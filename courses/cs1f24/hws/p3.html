<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Project 3: Imageshop</title>
		<style>
        body {
            font-size: 1.5em ;
        }
		.page {
			width: 11.5in ;
			margin: auto ;
		}
		.page_outer {
			width: 11in;
			box-shadow: -.1in -.1in .25in darkgray, .1in .1in .25in gray;
			position: relative ;
		}
		.page_inner{
			margin: 1in;  
			margin-top: .5in;  
		}
		th {
			text-align: center ;
            height: 1.5em;
            width: 1.5em;
            font-weight:normal;
		}
		td {
            border: solid ;
            height: 1.5em;
            width: 1.5em;
            
		}
        .details, .show, .hide:target {
            display: none;
        }
        .hide:target + .show, .hide:target ~ .details {
            display: block;
        }
		</style>
		<style type="text/css" media="print">
			.page {
				width: 8.5in;
				height: 11in;
				margin: auto ;
			}
			.page_outer {
				box-shadow: none;
			}
			a {
				color: black;
				text-decoration-line: none;
			}
		</style>
	</head>
	<body>
		<div class="page">
			<div style="height:.25in;"> <!-- Vertical space adjuster for box shadow --></div>
			<div class="page_outer">
				<div style="height:.25in;"> <!-- Vertical space adjuster for box shadow --></div>
				<div class="page_inner"><center>
					<h1>Project 3: Imageshop</h1>
                    <h3>Due: Monday, 4 November, 11:59 PM</h3>
                    <p>Github Classroom Link: <a href="https://classroom.github.com/a/R5xAPke8">https://classroom.github.com/a/R5xAPke8</a>
                    <p><a href="https://jrembold.github.io/Website_Backup/class_files/cs151/Projects/Project_Imageshop.html">Prof. Jed Rembold's alternate instructions</a>
                    <p>Page Under Construction.
                    </center>
                    <div style="height:1.25in;"> <!-- Vertical space adjuster for box shadow --></div><!--
                    <div>
                    <hr>
                        <a id="hide0" href="#hide0" class="hide"><h3>A. Introduction [Show]</h3></a>
                        <a id="show0" href="#show0" class="show"><h3>A. Introduction [Hide]</h3></a>
                        <div class="details">
                            <p>This project is composed of 5 milestones, each roughly equivalent to a problem or part of a problem on a problem set. Distinct from problem sets, each of the problems works together to create one, single, more expansive assignment. Before getting the milestones, there are a few introductory remarks.
                            <p>Additionally, this project will involve working with a "library" not unlike <code>karel.py</code> called <code>pgl.py</code>. This project specification will specify how to interact with this file.
                            <hr>
                            <h2>Files:</h2>
                            <ul>
                                <li>Update (only) this file:
                                <ul>
                                    <li><code>Imageshop.py</code></li>
                                </ul>
                                <li>You will also need:
                                <ul>
                                    <li><code>pgl.py</code></li>
                                </ul>
                            </ul>
                            <p>You should be able to run <code>Imageshop.py</code> as soon as you download the code. It will create an empty graphics window. The structure of <code>Imageshop.py</code> was covered extensively in the "Factoring" lecture <a href="https://cd-public.github.io/courses/cs1f24/slides/w7d1_factor.html">here</a> with the only difference being how many more variables are set beyond just the size of the graphics window.
                            <hr>
                            <h2>Resources on PGL (Portable Graphics Library):</h2>
                            <ul>
                                <li><a href="https://jrembold.github.io/Website_Backup/class_files/cs151/PythonSummary.html">Prof. Jed Rembold notes on PGL (and more)</a>
                                <li><a href="https://willamette.edu/~esroberts/python/pgldoc/">Prof. Eric Roberts notes on PGL</a>
                            </ul>
                            
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide1" href="#hide1" class="hide"><h3>B. What is Imageshop [Show]</h3></a>
                        <a id="show1" href="#show1" class="show"><h3>B. What is Imageshop [Hide]</h3></a>
                        <div class="details">
                                                
                            <p>Imageshop is a unique program that is driven by two events: a timing event, which simulates the motion of a moving ball, a mouse-move event, which simulate the motion of a "paddle" that controls the ball. Working with bothing timing and mouse events at the same time is very exciting, and forms the field of "real-time computing" which I worked in during my graduate program! In practice, it is based around two event listeners. My version also uses a third, very simple listener that only listens for clicks and unpauses the game on click, is discussed briefly in milestone 2.
                            <p>There is an <a href="https://willamette.edu/~esroberts/cs151/Assignments/Project2/Imageshop1/index.html">Web Demo</a> of each milestone.
                            <p>The initial configuration is rows of 'bricks', a centered 'ball', and a centered paddle, as in the leftmost image. The paddle is in a fixed position in the vertical direction, but moves back and forth across the screen along with the mouse until it reaches the edges of the window.</p>
                            <p>A complete game consists of three turns. On each turn, a ball is launched from the center of the window toward the bottom of the screen at a random angle. That ball bounces off the paddle and the walls of the world. Thus, after two bounces–one off the paddle and one off the left wall–the ball might have the trajectory shown in the second image. (Note that the dotted line is only there to show the ball’s path and does not actually appear on the screen.)</p>
                            <p>As you can see in the second image, the ball is soon to collide with one of the bricks on the bottom row. When that happens, the ball bounces just at it does on any other collision, but the brick disappears. The third image shows what the game looks like after that collision and after the player has moved the paddle to put it in line with the oncoming ball. The fourth image shows this process happening repeatedly.</p>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide2" href="#hide2" class="hide"><h3>C. Starting Template [Show]</h3></a>
                        <a id="show2" href="#show2" class="show"><h3>C. Starting Template [Hide]</h3></a>
                        <div class="details">
                            <p>The template file "Imageshop.py" is initially as follows, composed almost exclusively of many numerical variable declarations:
                            <hr>
                            <pre style="font-size:larger"><code >from pgl import GWindow, GOval, GRect
import random

# Constants
GWINDOW_WIDTH = 360            # Width of the graphics window
GWINDOW_HEIGHT = 600           # Height of the graphics window
N_ROWS = 10                    # Number of brick rows
N_COLS = 10                    # Number of brick columns
BRICK_ASPECT_RATIO = 4 / 1     # Width to height ratio of a brick
BRICK_TO_BALL_RATIO = 3 / 1    # Ratio of brick width to ball size
BRICK_TO_PADDLE_RATIO = 2 / 3  # Ratio of brick to paddle width
BRICK_SEP = 2                  # Separation between bricks (in pixels)
TOP_FRACTION = 0.1             # Fraction of window above bricks
BOTTOM_FRACTION = 0.05         # Fraction of window below paddle
N_BALLS = 3                    # Number of balls (lives) in a game
TIME_STEP = 10                 # Time step in milliseconds
INITIAL_Y_VELOCITY = 3.0       # Starting y velocity downwards
MIN_X_VELOCITY = 1.0           # Minimum random x velocity
MAX_X_VELOCITY = 3.0           # Maximum random x velocity

# Derived Constants
BRICK_WIDTH = (GWINDOW_WIDTH - (N_COLS + 1) * BRICK_SEP) / N_COLS
BRICK_HEIGHT = BRICK_WIDTH / BRICK_ASPECT_RATIO
PADDLE_WIDTH = BRICK_WIDTH / BRICK_TO_PADDLE_RATIO
PADDLE_HEIGHT = BRICK_HEIGHT / BRICK_TO_PADDLE_RATIO
PADDLE_Y = (1 - BOTTOM_FRACTION) * GWINDOW_HEIGHT - PADDLE_HEIGHT
BALL_DIAMETER = BRICK_WIDTH / BRICK_TO_BALL_RATIO


# Function: Imageshop
def Imageshop():
    """The main program for the Imageshop game."""

    gw = GWindow(GWINDOW_WIDTH, GWINDOW_HEIGHT)

    # You fill in the rest of this function along with any additional
    # helper and callback functions you need





# Startup code
if __name__ == "__main__":
    Imageshop()</code></pre><hr>
                            <p>The structure of this file is identical to the structure discussed in the "Factoring" lecture which you may review <a href="https://cd-public.github.io/courses/cs1f24/slides/w7d1_factor.html">here</a>.<br><br>
                            
                            
                        </div>
                    </div>
                    <hr>
                        <div>
                        <a id="hide5" href="#hide5" class="hide"><h3>0. Bricks [Show]</h3></a>
                        <a id="show5" href="#show5" class="show"><h3>0. Bricks [Hide]</h3></a>
                        <div class="details">
                            <b>Milestone 0: Best By Tuesday</b>
                            <p><em>This task concerns code that is <b>NOT</b> within an event listener.</em></p>
                            <p>Bricks is specified using the all-caps variables in the starter file. The only value you need to compute is the horizontal, or 'x', coordinate of the first column to center the bricks. The colors of the bricks remain constant for two rows and run in the following rainbow-like sequence: <code>&quot;Red&quot;</code>, <code>&quot;Orange&quot;</code>, <code>&quot;Green&quot;</code>, <code>&quot;Cyan&quot;</code>, and <code>&quot;Blue&quot;</code>. The milestone is complete when you have the following bricks placed appropriately:</p>
                            <p>I used nested for loops to lay bricks. My code was very similar to Problem Set 4: Problem 2.
                            <hr>
                            <pre style="font-size:larger"><code >for i in range(N_ROWS):
    for j in range(N_COLS):
        my_rect(...) # something like this</code></pre>
                        </div>
                    </div>
                    <hr>
                        <div>
                        <a id="hide6" href="#hide6" class="hide"><h3>1. Paddle [Show]</h3></a>
                        <a id="show6" href="#show6" class="show"><h3>1. Paddle [Hide]</h3></a>
                        <div class="details">
                            <b>Milestone 1: Best By Wednesday</b>
                            <p><em>This task concerns the event listener for mouse events.</em></p>
                            <p>Create a single rectangle corresponding to the "paddle", the black rectangle at the bottom of the graphics window of size and shape described by the all-caps variables in <code>Imageshop.py</code>. The milestone is complete when the 'paddle' follows the mouse and yet does not go off the graphics window.
                            <p>Outside of the event listener, I:
                            <ul>
                                <li>used the same technique as 'gw.box' from the "Click" lecture <a href="https://cd-public.github.io/courses/cs1f24/slides/w7d2_click.html#/15">here</a> to create a "gw.paddle".
                            </ul>
                            <p>Inside of the event listener for a "mousemove" event I:
                            <ul>
                                <li>checked the horizontal, or 'x' value of the mouse event.
                                <li>checked this 'x' value to make sure it was between two values
                                <ul>
                                    <li>If it was less than some minimum value, I set 'x' equal to that minimum value.
                                    <li>If it was greater than some maximum value, I set 'x' to that maximum value.
                                 </ul>
                                 <li>I set the location of the paddle based on the new, computed 'x' value and the provided, all-caps 'y' value.
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide7" href="#hide7" class="hide"><h3>2. Ball [Show]</h3></a>
                        <a id="show7" href="#show7" class="show"><h3>2. Ball [Hide]</h3></a>
                        <div class="details">
                            <b>Milestone 3: Best By Thursday</b>
                            <p><em>This task concerns the event listener for timer events.</em></p>
                            <p>Create a single oval or many-sided polygon which corresponding to the "ball", of size described by the all-caps variables in <code>Imageshop.py</code>. The milestone is complete when, after an inital click begins the game, the 'ball' moves around the graphics window, bouncing off of walls. It may pass through bricks and the paddle during this milestone.
                            <p>Personally, I added my timer listener after creating the bricks, but after setting a "pause" variable to 'True'. A separate, very simple, event listener monitored clicks and set pausing to 'False' when a click occurred. My timer event would check for pauses before updating the ball location.
                            <p>Be conscientious of how pgl often places shapes based on their top-left location rather than their center, and we addressed this with "Boxy Click" <a href="https://cd-public.github.io/courses/cs1f24/slides/w7d2_click.html#/13">here</a>.
                            <p>Outside of the event listener, I:
                            <ul>
                                <li>used the same technique as 'gw.box' from the "Click" lecture <a href="https://cd-public.github.io/courses/cs1f24/slides/w7d2_click.html#/15">here</a> to create a "gw.ball".
                                <li>additionally created "gw.vx" hold a number - the horizontal 'velocity' of the ball. Basically, this is how many pixels the ball moves each time a timer event happens.
                                <li>additionally created "gw.vy" which is initially equal to an all-caps variable from "Imageshop.py" - 'INITIAL_Y_VELOCITY'.
                            </ul>
                            <p>This is one way to set up the velocity.
                            <hr>
                            <pre style="font-size:larger"><code >gw.vx = random.uniform(MIN_X_VELOCITY, MAX_X_VELOCITY)
if random.uniform(0,1) < 0.5:
    gw.vx = -gw.vx</code></pre><hr>
                            <p>I created a timer event implemented bouncing much the same way implemented by "Bouncing Pacman" in the section <a href="https://rembold-cs151-master.github.io/Section07/#/part-c-bouncing-pacman">here</a>. Basically there is a listener which:
                            <ul>
                                <li>triggers every <code>TIME_STEP</code>
                                <li>computes a new location <code>vx</code> pixels in the <span class="math inline">x</span> direction and <code>vy</code> pixels in the <span class="math inline">y</span> direction from the current location
                                <li>determines if this new location is within a wall
                                <ul>
                                    <li>if so, reverses the velocity in the direction of the wall (bounces).
                                    <ul>
                                        <li>if the wall is the left or right side, change the 'gw.vx' to equal '-gw.vx'.
                                        <li>if the wall is the top or bottom, change the 'gw.vy' to equal '-gw.vy'.
                                    </ul>
                                </ul>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide8" href="#hide8" class="hide"><h3>3. Collisions [Show]</h3></a>
                        <a id="show8" href="#show8" class="show"><h3>3. Collisions [Hide]</h3></a>
                        <div class="details">
                            <b>Milestone 3: Best By Friday</b>
                            <p><em>This task concerns the event listener for timer events.</em></p>
                            <p>Check whether the ball is colliding with another object in the window, and update the graphics window appropriately if so. This milestone is complete when the ball may bounce off of the paddle and off of bricks, and when bricks are removed from the graphics window when the ball bounces off of them.
                            <p>You will likely need to use <code>gw.get_element_at(x,y)</code>, which either returns a shape or <code>None</code>, to determine if a brick or paddle is at certain location, and <code>gw.remove(...)</code> to remove bricks.
                            <p>We recommend checking the corner points of the square that encloses the ball. For a <code>GOval</code>  the upper left corner of the ball is at the point (<span class="math inline">x,y</span>), the other corners will be at the locations:<br><br>
                           
                            <p>I updated my timer event so that after checking for walls::
                            <ul>
                                <li>check for shapes at the four corner locations.
                                <ul>
                                    <li>If there is a shape, vertical bounce by changing 'gw.vy' to equal '-gw.vy'.
                                    <li>If the shape is not the paddle, remove the shape.
                                </ul>
                            </ul>
                            <p>You may wish to write a function <code>get_colliding_object</code>, which checks all four (if necessary) corners of the ball and returns the either a shape or None, which will make writing an 'if' statement to deal with collisions much easier.
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide9" href="#hide9" class="hide"><h3>4. Finalize [Show]</h3></a>
                        <a id="show9" href="#show9" class="show"><h3>4. Finalize [Hide]</h3></a>
                        <div class="details">
                            <b>Milestone 4: Best By Saturday</b>
                            <p><em>This task concerns the event listener for timer events.</em></p>
                            <p>For this task add some finishing touches:
                            <ul>
                                <li>If the ball reaches the bottom, it should not bounce, but be deleted and trigger the next 'turn'.
                                <li>The next 'turn' should be begin with the game in a paused state, the ball in the initial starting position, and one fewer turn remaining.
                                <li>If all bricks are removed, the game should end, likely by pausing - anything more sophisticated would be an extension.
                            </ul>
                            <p>Once you have completed Milestone 4, submit your code via Github classroom. You will probably want to test a bit more, and also consider doing extensions, which are outline by Prof. Jed Rembold <a href="https://jrembold.github.io/Website_Backup/class_files/cs151/Projects/Project_Imageshop.html#possible-extensions">here</a>
                        </div>
                    </div>
                    <hr>
                    <div style="height:1in;"> <!-- Vertical space adjuster for box shadow --></div>
				</div>
			</div>
		</div>
	</body>
</html>
