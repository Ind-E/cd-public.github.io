<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Intro</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://cd-public.github.io/slides/html_srcs/reveal.js/dist/reset.css">
  <link rel="stylesheet" href="https://cd-public.github.io/slides/html_srcs/reveal.js/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="https://cd-public.github.io/slides/html_srcs/reveal.js/dist/theme/sky.css" id="theme">
  <link rel="stylesheet" href="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/highlight/monokai.css">
</head>
<body>
  <div class="reveal">
    <div class="slides">


<section id="title-slide">
  <h1 class="title">Intro</h1>
  <p class="author">Calvin (Deutschbein)<br></p>
  <p class="date">Week 01</p>
  <p class="date">Cloud</p>
</section>

<section>
<h2>Announcements</h2>
<ul>
<li>Welcome to DATA-599: Cloud Computing!</li>
<li>Today is a special Zoom guest lecture from the Portland R User Group + Intro class.
<li>Things to do:
<ul>
<li>Access the course webpage at <a href="https://cd-public.github.io/courses/cld24">cd-public.github.io/courses/cld24</a>
<li>Join the Discord!
<ul>
<li>You should have gotten an email</li>
</ul></li>
</ul></li>
<li>Homework
<ul>
<li>The first homework, "<a href="https://colab.research.google.com/drive/1WA6rGf2bdb7IRiGceUTnIpCOGgd8lG7l?usp=sharing">Functional</a>", will be due at 6 PM on Wed/Thr.
<ul><li>Snag the Colab (Colab is a Cloud technology!)
<li>Make a copy.<ul>
<li>Write<ul><li> <code class="python">multiply_by_x_everything_in(...)</code>
<li><code class="python">apply_f_to_everything_in(...)</code>
<li><code class="python">make_times_n(...)</code>
</ul></ul><li>Share with me from your @willamette email (so I know it's you).
</li><li>This is a calibration assignment, so do whatever you would usually do (ask me for help, work together, stack overflow, etc.) so I know how to design assignments / use Python.
</ul></li>
</ul>
</section>
<section>
<h2>About Me</h2>
<dl>
<dt>Name</dt>
<dd>Calvin (Deutschbein) 
</dd>
<dt>Call me</dt>
<dd>(Professor) Calvin 
</dd>
<dt>Pronouns</dt>
<dd>they/them
</dd>
<dt>Office</dt>
<dd><strong>Ford</strong> 3rd Floor (in SALEM)
</dd>
<dt>Office Hours</dt>
<dd>Discord me between 12:00 AM and 11:59 PM (realistically 10 AM to 2 AM)
<dt>Email:</dt>
<dd>ckdeutschbein@willamette.edu
</dd>
<dt>Website:</dt>
<dd><a href="cd-public.github.io4">cd-public.github.io</a>
</dd>
</dl>
</section>
<section>
<h2>Background</h2>
<dl>
<dt>Thesis Title</dt>
<dd>Mining Secure Behavior of Hardware Designs
</dd>
<dt>Plain English</dt>
<dd>Just as there are bugs in code that makes <b>software</b>, modern <b>hardware</b> is also written in code and therefore may contain bugs. I find these bugs.
</dd>
<dt>Thesis</dt>
<dd>Specification mining can discover properties that can be used to verify the secure
behavior of closed source CISC CPU designs, properties that can be used to verify
the temporal correctness of CPU designs, and hyperproperties that can be used to
verify that modules, SoCs, and CPUs have secure information flow.
</dd>
<dt>Some partners</dt>
<dd>Intel Corporation, Semiconductor Research Corporation, Synopsys, MITRE, Cycuity
</dd>
</dl>
</section>
<section>
<h2>Background</h2>
<dl>
<dt>Research Cloud Computing</dt>
<dd>Mining Secure Behavior of Hardware Designs is hard/slow.
</dd>
<dt><a href="https://cd-public.github.io/papers/2021/ASHES2021.pdf">Reference text</a></dt>
<dd>When parallelizing all
trace generation and all case mining, Isadora could theoretically
evaluate the Single ACW case fully in less than five minutes. Parallelizing the first phase requires a Radix-S and QuestaSim instance
for each source register, and each trace is generated in approximately 100 seconds. Further, the trace generation time is dominated
by write-to-disk, and performance engineering techniques could
likely reduce it significantly, such as by changing trace encoding
or piping directly to later phases. Parallelizing the second phase
requires only a Python instance for each source register, and takes
between 1 and 2 seconds per trace. Parallelizing the third phase
requires a Daikon instance for each flow case, usually roughly the
same number as unique sources, and takes between 10 and 30 seconds per flow case. The final phase, postprocessing, is also suitable
for parallelization. Maximally parallelized, this gives a design-to-specification time of under four minutes for the single ACW and
for similarly sized designs, including PicoRV32.
</dd>
<dt>Plain text</dt>
<dd>Rather than do 100s of things for 3 minutes to take 100s of minutes, we can use 100s of computers for 3 minutes and always be done in 3 minutes.
</dd>
<dt>Who really liked this?</dt>
<dd>Intel Corporation, who has ~millions of computers
</dd>
</dl>
</section>
<section>
<h2>Motivations</h2>
<ul>
<li>Instead of solving hard problems, we use more computers</li>
<li>Computers are cheap, and people that can use them well are expensive</li>
<li>In my experience: your boss/manager/accountability group always want you to spend $0.12 to use the 1000s of the fastest computers on earth for 5 seconds, rather than 6 months writing "better" code.
<ul>
<li>Writing fast code is hard, and spending $0.12 is easy.</li>
</ul></li>
</ul>
</section>

<section>
<h2>Emergency Back-up Motivations</h2>
<p><a href="https://www.statista.com/statistics/793628/worldwide-developer-survey-most-used-languages/">Most used programming languages among developers worldwide as of 2023</a>
</p><table>
<tbody><tr>
<td style="width:50%">
<ul>
<li>All* "front-end" (local, on your device) code is written in JavaScript<ul>
<li>*The Web Assembly guest lecture is the exception here.
</li><li>(there's also HTML/CSS, which isn't quite code)</li></ul>
<li>Most "back-end" (cloud, on a server) code is written in Python or JavaScript<ul><li>That is because mere mortals can learn these languages</li></ul>
<li>Pretend you can't see PHP/Java.
</li><li>Usually people use "frameworks".<ul><li>TypeScript is kinda one of those.</ul>
</li><li>SQL/Bash is taught in DATA 503
</li><li>Enter Cloud Computing, a course on the big languages I think you might need to know.
<ul>
<li>There's a lot of C-like languages on here - those are for the nerds so nerdy that nerds call them nerds.
</li></ul></td>
<td style="width:80%;display:inline-block;">
  <div style="background-image: url('https://www.statista.com/graphic/1/793628/worldwide-developer-survey-most-used-languages.jpg');
  background-size: cover;
  background-size: 100% 247%;">
 <ul style="opacity: 0.0;">
<li>JavaScript/HTML/CSS: DATA 352W &amp; CS 299: Web
</li><li>Python is taught in CS 15X
</li><li>SQL is taught in DATA 351
</li><li>TypeScript is just a version of JavaScript that is good.
</li><li>Shell is taught in this class as a secondary objective
</li><li>I don't talk about Java
</li><li>C#/C++/C share commonalities of which C is most general.
</li><li>C#/C++/C share commonalities of which C is most general.
</li><li>C#/C++/C share commonalities of which C is most general.
</li><li>C#/C++/C share commonalities of which C is most general.</li></ul></div>

</td></tr></tbody></table>

</section>


<section>
<h2>More Motivation</h2>
<table class="wikitable sortable">
<tbody><tr>
<th rowspan="2" width="80pt">Company
</th>
</tr>
<tr>
<th width="120pt">$1 trillion
</th>
<th width="120pt">$2 trillion
</th>
<th width="120pt">$3 trillion
</th>
<th>Nominal
</th>
<tr>
<td><span class="nowrap"><a href="/wiki/Microsoft" title="Microsoft">Microsoft</a></span>
</td>

</td>
<td><span data-sort-value="000000002019-04-25-0000" style="white-space:nowrap">25 April 2019</span>
</td>
<td><span data-sort-value="000000002021-06-22-0000" style="white-space:nowrap">22 June 2021</span>
</td>
<td><span data-sort-value="000000002024-01-24-0000" style="white-space:nowrap">24 January 2024</span>
</td>
<td>3,185
</td></tr>
<tr>
<td><a href="/wiki/Apple_Inc." title="Apple Inc.">Apple</a>
</td>

</td>
<td><span data-sort-value="000000002018-08-02-0000" style="white-space:nowrap">2 August 2018</span>
</td>
<td><span data-sort-value="000000002020-08-19-0000" style="white-space:nowrap">19 August 2020</span>
</td>
<td><span data-sort-value="000000002022-01-03-0000" style="white-space:nowrap">3 January 2022</span>
</td>
<td>3,081
</td></tr>
<tr>
<td><a href="/wiki/Saudi_Aramco" title="Saudi Aramco">Saudi Aramco</a>
</td>

<td><span data-sort-value="000000002019-12-11-0000" style="white-space:nowrap">11 December 2019</span>
</td>
<td><span data-sort-value="000000002019-12-12-0000" style="white-space:nowrap">12 December 2019</span>
</td>
<td>—
</td>
<td>2,463
</td></tr>
<tr>
<td><a href="/wiki/Nvidia" title="Nvidia">Nvidia</a>
</td>

</td>
<td><span data-sort-value="000000002023-05-30-0000" style="white-space:nowrap">30 May 2023</span>
</td>
<td><span data-sort-value="000000002024-02-23-0000" style="white-space:nowrap">23 February 2024</span>
</td>
<td>—
</td>
<td>2,380
</td></tr>
<tr>
<td><a href="/wiki/Alphabet_Inc." title="Alphabet Inc.">Alphabet</a>
</td>

</td>
<td><span data-sort-value="000000002020-01-16-0000" style="white-space:nowrap">16 January 2020</span>
</td>
<td><span data-sort-value="000000002021-11-08-0000" style="white-space:nowrap">8 November 2021</span>
</td>
<td>—
</td>
<td>2,150
</td></tr>
<tr>
<td><span class="nowrap"><a href="/wiki/Amazon_(company)" title="Amazon (company)">Amazon</a></span>
</td>

</td>
<td><span data-sort-value="000000002018-09-04-0000" style="white-space:nowrap">4 September 2018</span>
</td>
<td>—
</td>
<td>—
</td>
<td>1,970
</td></tr>
<tr>
<td><a href="/wiki/Meta_Platforms" title="Meta Platforms">Meta</a>
</td>

</td>
<td><span data-sort-value="000000002021-06-28-0000" style="white-space:nowrap">28 June 2021</span>
</td>
<td>—
</td>
<td>—
</td>
<td>1,220
</td></tr>
<tr>
<td><a href="/wiki/Tesla,_Inc." title="Tesla, Inc.">Tesla</a>
</td>

</td>
<td><span data-sort-value="000000002021-10-25-0000" style="white-space:nowrap">25 October 2021</span>
</td>
<td>—
</td>
<td>—
</td>

<td>1,210
</td>
</tr>
<tr>
<td><span class="nowrap"><a href="/wiki/PetroChina" title="PetroChina">PetroChina</a></span>
</td>
<td><span data-sort-value="000000002007-11-05-0000" style="white-space:nowrap">5 November 2007</span>
</td>
<td>—
</td>
<td>—
</td>

<td>1,200
</td></tr></tbody></table>
Three of the six largest companies in the world are cloud companies, Nvidia is a primary supplier, and Apple and Meta are primary consumers. The world economy is 2/3 cloud and 1/3 transit.
</section>

<section>
<h2>Learning Objectives</h2>
<div class="block" name="Primary Objective">
<p>To be conversant and comfortable under the cloud computing paradigm.</p>
</div>
<p>Doing so will require that students be able to:</p>
<ul>
<li>Have a high level understanding of MapReduce and its descendents</li>
<li>Use cloud technologies, like Spark (really we only need Spark)<ul>
<li>The course description said Hadoop, it meant Spark (sorry)</ul>
<li>Work with back-end web technologies, like Node.js/Flask<ul>
<li>Flask is lightweight Python web programming, Node is a ✨new language✨ (JavaScript)</ul>
<li>Deploy to cloud services, including Azure and GCP (AWS is less edu friendly)</li>
<li>Stretch goal: Work with the "data cloud": BigQuery and Databricks (Snowflake is less edu friendly)</li>
<li>Have a tasteful (e.g. not excessive) amount of fun</li>
</ul>
</section>
<section class="slide level2">
<h2>Grading</h2>
<ul>
<li>Cloud computing classes are inherently experimental due to rapidly changing technologies.</li>
<li>My plan is to give some lectures and assignments and just assume we all do well.
<li>There are no planned tests, and there's a potential final project (depending on whether things keep working for 14 weeks) that's more portfolio than grade motivated.
<li>My grade plan is "show up + good faith effort on homeworks = A"<ul>
<li>If you want to know how you are doing, I will provide narrative (that is, not quantitative) feedback by request.<li>This will let you know, for example, what I would be able to write on a letter of recommendation.<li>My opinion: You should be more letter motivated than grade motivated this semester.
</ul>
</section>
<section class="present" style="display: block;">
<h2>Communication</h2>
<ul>
<li>Check your email for a link to Discord
<img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b5061df29d55a92d945_full_logo_blurple_RGB.svg">
</li><li>Post code to Discord as follows - I am a screenshot-hater, please do not make me retype your code!
<ul><li>Drag-and-drop or use the (+) button to share the file(s).
</li><li>Share code snippets using triple quotes and a language. <code class="hljs awk">'''Python
def fibonacci(n):
     if n in [0,1]:
             return n
     return fibonacci(n-1) + fibonacci(n-2)
'''</code>
</li></ul>
</li></ul>
</section>

<section class="slide level2">
<h2>Guest Talk: Aggregate 62: Learning WebR</h2>
<ul>
<li>Pre questions:<ul>
<li>What do you think when you hear "user group"?</li>
<li>Other than applying broadly, how can we <em>systemically</em> find jobs?</li>
<li>What might a successful "user group" talk look like?</li>
<li>What might successful "user group" participation look like?</li>
<li>How can we leverage "user group" events after the meeting ends?</li>
</ul></ul><br>
<a href="https://youtu.be/TnS5WXbyy0U">Watch on YouTube</a>
</section>

<section class="slide level2">
<h2>Let's go</h2>
<ul>
<li>What does atmospheric moisture have to do with computing anyway.</li>
</ul>
</section>


<section>
    <h2>WHY CALL IT THE "CLOUD"?</h2>
    <ul>
        <li>Computing happens somewhere else, not on your PC or mobile device
            <ul>
                <li>A big goal is to prepare students for careers at the companies building and running the cloud (Google, Microsoft, Amazon).</li>
                <li>Cloud computing is a technology course: we ask how things really work, not a concepts course that might be more centered on capabilities and use cases (in fact we will see lots of those, but they aren’t our main topic)</li>
            </ul>
        </li>
        <li>The Cloud Underpins Modern Computing
            <ul>
                <li>Physical:
                    <ul>
                        <li>The cloud is a global deployment of massive data centers connected by ultra-fast networking, designed for scalability and robustness.</li>
                    </ul>
                </li>
                <li>Logical:
                    <ul>
                        <li>A collection of tools and platforms that scale amazingly well. The platforms matter most; as a developer, they allow you to extend/customize them to create your application as a “personality” over their capabilities.</li>
                    </ul>
                </li>
                <li>Conceptual:
                    <ul>
                        <li>A set of scalable ideas, concepts, and design strategies.</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</section>

<section>
    <h2>WHO INVENTED THE CLOUD?</h2>
    <ul>
        <li>My view: it emerged naturally from high quality systems programming.
            <ul>
                <li>As computer chips got faster, they hit a "heat wall" where they couldn't speed up without melting.</li>
                <li>To get past the heatwall, Intel et al. placed multiple processing units on a single chip (e.g. Phone/Tablet/PC).</li>
				<li>To use multiply processing units, sometimes <em>n</em> pieces of code had to run at the same time.
				<li>If <em>n</em> can be 8 (my phone) why not 10^6 (my phone's app's datacenters)
            </ul>
        </li>
    </ul>
	<img src="https://i0.wp.com/semiengineering.com/wp-content/uploads/Picture1-2.png?resize=1024%2C576&ssl=1">
</section>

<section>
    <h2>WHO INVENTED THE CLOUD?</h2>
    <ul>
        <li>Another view: It emerged naturally from the Internet
            <ul>
                <li>The internet runs over networks between multiple computers with different computing and data capabilities.
                    <ul>
                        <li>If I can ask Google for directions, why can't I ask Google to compute a mean
                        <li>If Google can ask me for a password, why can't it ask me for a .csv
                        <li>If computing is already distributed across local and remote servers, why not write code for this paradigm.
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
		<img src="https://static01.nyt.com/images/2006/10/25/business/25server.xlarge1.jpg">
</section>



<section>
    <h2>WHO INVENTED THE CLOUD?</h2>
    <ul>
        <li>My view: It DID NOT emerge from "classical" software engineering
            <ul>
                <li>"Object oriented languages" e.g. Java won the software engineering wars of the 00s.
                    <ul>
                        <li>I am a hater.</li>
                    </ul>
                </li>
                <li>Functional programming e.g. R couldn't keep up mostly due to non-technical design makers</li>
                <li>I believe MapReduce, two functions, unseated Objects as the dominate paradigm over time</li>
				<ul><li>Irony: MapReduce was first written in Java</li>
            </ul>
        </li>
    </ul>
    </ul>
	<img src="https://www.guru99.com/images/Big_Data/061114_0959_Understandi1.png">
	<p>Do not tell your capstone instructor I am a Java hater. I'm trying to be popular and well-liked.
</section>

<section>
<h2>Cloud Big</h2>
<dl>
<p>It is generally regarded that...</p>
<ul><li>Google is one of the largest data aggregators
<li>Google held approximately 15 exabytes in 2013 [<a href="https://what-if.xkcd.com/63/">src</a>]
<li>Google's reported power use increased 21%/anum from 2011->2019</ul>
<br><a style="align:center" href="https://www.forbes.com/sites/robertbryce/2020/10/21/googles-dominance-is-fueled-by-zambia-size-amounts-of-electricity/?sh=4c7bb3568c98"><img style="display:block; margin-left: auto; margin-right: auto" src="https://imageio.forbes.com/specials-images/imageserve/5f908b550436eabb0b8b03b1/Since-2011--Google-s-electricity-use-has-nearly-quintupled-/960x0.png"></a>
<p style="text-align:center">(12.4/2.6)^(1/8) = 1.21
<ul><li>Hard-drives grew 16x from 2012 to 2023 from less than 2 TB [<a href="https://www.tomshardware.com/news/HAMR-platters-heat-assisted-CREATEC-areal-density,18126.html">src</a>] to 32 TB [<a href="https://www.seagate.com/products/enterprise-drives/exos-x/x-mozaic/">src</a>]</li>
<li>Google current storage is around 15 exabytes * 1.21^10 * 16 = <b>1614 exabytes</b>
<li>10x every 5 years within one company, but # of data companies also grows.
<li>I have generated 134 MB of teaching materials in 3 years, or .0000000000134 exabytes
</section>


<section>
<h2>Cloud Growing</h2>
<dl>
<p>I said</p>
<ul>
<li>Google current storage is around 15 exabytes * 1.21^10 * 16 = <b>1614 exabytes</b>
<li>But... I used 2023 numbers, not 2024:
<li>15 exabytes * 1.21^10 * 16 = <b>1954 exabytes</b> (assuming no bigger drives)
<li>Google is 2150/(2150+1970+3185) ~= 29% of Cloud by $$$.
<li>~1172 new exabytes per year</ul>
</dl>
<img src="https://cdn.arstechnica.net/wp-content/uploads/2016/08/seagate-60tb-ssd-640x490.jpg">
<p>~37 TB/sec
</section>

<section>
    <h2>CONCEPT: Client/Server</h2>
    <ul>
        <li>I like to think of the cloud as a dancer between users/clients and remote servers</li>
        <li>We use devices which are physical and live “outside” the cloud, but are ~useless on their own.</li>
        <li>Your phone do some things, remote email servers do some things.
		<li>Usually:
		<ul><li>Website lives in cloud storage, is sent as a chunk of data to phone/pc.
		<li>Website runs locally in phone/pc browser, uses JavaScript/HTML/CSS (maybe WASM)
		<li>Website asked something it doesn't know (current weather, directions to nearest whataburger)
		<li>Website executes JavaScript that asks cloud to compute something
		<li>Cloud server gets a request, usually runs Python/JavaScript to answer it
		<li>(If it needs data, then py/js calls SQL)
		<li>Cloud server sends back to phone/pc which updates what you see.
    </ul></ul>
	<img width="35%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Client-server-model.svg/2560px-Client-server-model.svg.png">
</section>


<section>
    <h2>CONCEPT: Client/Server</h2>
    <img src="https://docs.cloud.f5.com/docs/static/a6b963257826bd93027d00e52a757896/47b67/hl-appstack-1.png">
</section>

<section>
    <h2>HOW DID TODAY’S CLOUD EVOLVE?</h2>
    <ul>
        <li>Prior to ~2005, we had “data centers designed for high availability”.</li>
        <li>Amazon had especially large ones, to serve its web requests</li>
        <li>This is all before the AWS cloud model</li>
        <li>The real goal was just to support online shopping</li>
        <li>Their system wasn’t very reliable, and the core problem was scaling</li>
    </ul>
	<img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F24a9ef4a-517f-4a24-93c2-71c6b345914f_809x736.png">
</section>

<section>
    <h2>WASN’T GOOGLE FIRST?</h2>
    <ul>
        <li>Google was still building their first scalable infrastructure in this period.</li>
        <li>Because Amazon ran into scaling issues first, Google (a bit later) managed to avoid them.
            <ul>
                <li>In some sense, Amazon dealt with these issues “in real time”.</li>
                <li>Google had a chance to build a second system by learning from Amazon’s mistakes and approaches.</li>
            </ul>
        </li>
    </ul>
	<img src="https://www.webdesignmuseum.org/uploaded/timeline/google/google-2005.png">
</section>

<section>
    <h2>YAHOO EXPERIMENT</h2>
    <ul>
        <li>In the 2005 time period everyone was talking about an experiment done at Yahoo. It was an “alpha/beta” experiment about ad-click-through</li>
        <li>Customers who saw web page rendering faster than 100ms clicked ads.</li>
        <li>For every 100ms delay, click-through rates noticeably dropped.</li>
    </ul>
	<img src="https://www.webdesignmuseum.org/uploaded/timeline/yahoo/yahoo-2005.png">
</section>

<section>
    <h2>100 MS</h2>
	<p>How long is 100 ms?
	<script>
let timer;

function myfunc() {
	timer = window.setInterval(toggle, 100);
	document.getElementById('forhello').innerText='';
}
function toggle() {
	document.getElementById('forhello').innerText='Hello, World!';
	window.clearInterval(timer);
}
</script>
	<p><button onclick="myfunc();" style="font-size:1.5em">Sample Button</button>
<p style="outline-style:solid;" id="forhello">&nbsp;</p>
<ul>
<code class="javascript">let timer;

function myfunc() {
	timer = window.setInterval(toggle, 100);
	document.getElementById('forhello').innerText='';
}
function toggle() {
	document.getElementById('forhello').innerText='Hello, World!';
	window.clearInterval(timer);
}</code>
</section>

<section>
    <h2>EVERYONE HEARD THIS MESSAGE</h2>
    <ul>
        <li>At Amazon, Jeff Bezos spread the word internally.</li>
        <li>He wanted Amazon to win this sprint.</li>
        <li>The whole company was told to focus on ensuring that every Amazon product page would render with minimal delay.
		<li>Unfortunately… as more and more customers turned up… Amazon’s web pages slowed down. This is a “crisis of the commons” situation.</li>
    </ul>
	<img src="https://i.ytimg.com/vi/WhnDvvNS8zQ/hqdefault.jpg">
	<p>Bezos didn't know about the crises of the commons because it wasn't taught in his electrical engineering program (I completely made that up, that is a lie, I have no idea).
</section>

<section>
    <h2>THE CRISIS OF THE COMMONS</h2>
    <ul>
        <li>At the center of the village is a lovely grassy commons. Everyone uses it.</li>
        <li>One day a farmworker has an awesome idea. They lets their goats graze on the commons. This saves a lot of rent dollars paid as part of a tenant farmer agreement.</li>
        <li>They earns extra money with award-winning goats.</li>
    </ul>
	<img width="30%" src="https://diversionaudio.com/wp-content/uploads/2023/01/goat-serena-williams-cover-3000x3000-1.png">
	<p>This is the plot of <em>King Richard</em> (2021)</p>
</section>

<section>
    <h2>WHERE ARE THE COMMONS, IN A CLOUD?</h2>
    <ul>
        <li>In the cloud we need to think about all the internal databases and services “shared” by lots and lots of μ-service instances.</li>
        <li>If we take the advice to “make everything as fast as possible”, all those millions of first-tier μ-services will be greedy.</li>
        <li>But what works best for one instance, all by itself, might overload the shared services when the same code runs side by side with huge numbers of other instances (“when we run at scale”)</li>
    </ul>
	<img src="https://miro.medium.com/v2/resize:fit:1072/0*0_dS_lnxPkezlmgT.png">
	<p>Shorter: doing <em>n</em> things at once is hard.
</section>

<section>
    <h2>THE CLOUD AND THE “THUNDERING HERD”</h2>
    <ul>
        <li>In fact this is a very common pattern.</li>
        <li>Something becomes successful at small scale, so everyone wants to try it.</li>
        <li>But now the same code patterns that worked at small scale might break. The key to scalability in a cloud is to use the cloud platform in a smart way.</li>
    </ul>
	<img src="https://staticimg.amarujala.com/assets/images/2021/09/02/instagram-down_1630565530.png?w=414">
</section>

<section>
    <h2>STARTING AROUND 2006, AMAZON LED IN REINVENTING DATA CENTER COMPUTING</h2>
    <ul>
        <li>Amazon reorganized their whole approach:
            <ul>
                <li>Requests arrived at a “first tier” of very lightweight servers.</li>
                <li>These dispatched work requests on a message bus or queue.</li>
                <li>The requests were selected by “micro-services” running in elastic pools.</li>
                <li>One web request might involve tens or hundreds of μ-services!</li>
            </ul>
        </li>
        <li>They also began to guess (!!!) at your next action and precompute what they would probably need to answer your next query or link click.</li>
    </ul>
	<img src="imgs/2005.png">
	<p>"Guessing next action" became "LLMs" (approximately)
</section>

<section>
    <h2>By 2006, most of the "Cloud" was around.</h2>
    <ul>
        <li>Servers were diversified geographically.</li>
        <li>Services were diversified functionally.</li>
		<li>Complexity farmed out to asynchronous servers that e.g. "compute your music genome" (Pandora launched 2005).
    </ul>
	<img src="imgs/2008.png">
	<p>If you see it, it's web design, if it works, it's cloud computing.
</section>

<section>
    <h2>TIER ONE / TIER TWO</h2>
    <ul>
        <li>We often talk about the cloud as a “multi-tier” environment.</li>
        <li>Tier one: programs that generate the web page you see.</li>
        <li>Tier two: services that support tier one. (We call those "DATA 503")</li>
    </ul>
	<img src="imgs/nginx.png">
	<p>NGINX is written in C, MongoDB in C++, both serve primarily JavaScript/Python.
</section>

<section>
    <h2>TODAY’S CLOUD</h2>
    <ul>
        <li>Tier one runs on very lightweight servers:
            <ul>
                <li>They use very small amounts of computer memory</li>
                <li>They don’t need a lot of compute power either</li>
                <li>They have limited needs for storage, or network I/O</li>
            </ul>
        </li>
		<img width="20%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/590px-Node.js_logo.svg.png">
        <li>Tier two μ-Services specialize in various aspects of the content delivered to the end-user. They may run on somewhat “beefier” computers.</li>
		<img width="20%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Postgresql_elephant.svg/800px-Postgresql_elephant.svg.png">
    </ul>
</section>

<section>
    <h2>THE CLOUD SCHEDULER</h2>
    <ul>
        <li>The cloud scheduler watched each μ-service pool (each is shown as one dot, with color telling us how long the task queue was, and the purple circle showing how CPU loaded it is).</li>
        <li>The picture didn’t show how many instances were active – that makes it too hard to render. But each pool had varying numbers of instances. The App Server was automatically creating and removing instances.</li>
    </ul>
	<iframe width="1280" height="720"  src="https://www.youtube.com/embed/p8qYeoEOsyE?si=4aQ9CoeXzTxlNCD-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</section>

<section>
    <h2>WHAT DOES IT MEAN TO “ADD INSTANCES”?</h2>
    <ul>
        <li>For some applications we add instances by launching new threads on additional cores.</li>
		<a href="https://www.geeksforgeeks.org/multithreading-python-set-1/"><code class="python">import threading
 
def print_cube(num):
    print("Cube: {}" .format(num * num * num))
 
def print_square(num):
    print("Square: {}" .format(num * num))

t1 = threading.Thread(target=print_square, args=(10,))
t2 = threading.Thread(target=print_cube, args=(10,))
 
t1.start()
t2.start()
 
t1.join()
t2.join()
 
print("Done!")
</code></a>
</section>

<section>
    <h2>WHAT DOES IT MEAN TO “ADD INSTANCES”?</h2>
    <ul>
        <li>For others, we literally run two or more identical copies of the same program, on different computers! They use a “load balancer” to send requests to the least loaded instances.</li>
        <li>And you can even combine these models…</li>
	<code >user@DESKTOP-THMS2PJ:~$ python test.py ; python test.py
Square: 100
Cube: 1000
Done!
Square: 100
Cube: 1000
Done!
user@DESKTOP-THMS2PJ:~$ 
</code>

    </ul>
	<p>Multiple processes (I can't take a screenshot of two terminals ofc) of multiple threads each.
</section>

<section>
    <h2>HOW DO CLOUD SERVICES SCALE?</h2>
    <ul>
        <li>We’ve been acting as if each μ-service is a set of “processes” but ignoring how those processes were built.</li>
        <li>In fact, they will use parallel programming of some form because modern computers have NUMA architectures.</li>
    </ul>
	<img width="50%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/NUMA.svg/2560px-NUMA.svg.png">
	<p>NUMA = Non-uniform Memory Access - some computers read some things faster than others.
</section>

<section>
    <h2>OLD DEBATE: HOW TO LEVERAGE PARALLELISM?</h2>
    <ul>
        <li>Not every way of scaling is equally effective. Pick poorly and you might make less money!</li>
        <li>To see this, we’ll spend a minute on just one example.</li>
    </ul>
	<img src="https://i0.wp.com/musically.com/wp-content/uploads/2019/05/New-Project.jpg">
</section>

<section>
    <h2>EXAMPLE: CLOUD HOSTED MUSIC SERVICE</h2>
    <ul>
        <li>Which would you pick?</li>
        <li>Basically, we have four options:
            <ul>
                <li>Keep my server busy by running one multithreaded application on it</li>
                <li>Keep it busy by running <em>n</em> unthreaded versions of my application as virtual machines, sharing the hardware</li>
                <li>Keep it busy by running <em>n</em> side by side processes, but don’t virtualize</li>
                <li>Keep it busy by running <em>n</em> side by side processes using ✨containers✨</li>
            </ul>
        </li>
    </ul>
	<img src="https://www.docker.com/wp-content/uploads/2021/11/docker-containerized-and-vm-transparent-bg.png">
</section>

<section>
    <h2>THE WINNER IS…</h2>
    <ul>
        <li>Market converging on “container virtualization” with one server process dedicated to each distinct user.</li>
        <li>A single cloud server might host hundreds of these servers. But they are easy to build: you create one music player, and then tell the cloud to run as many “instances” as required.</li>
    </ul>
	<a href="https://github.com/linuxserver/docker-mstream?tab=readme-ov-file"><img src="https://info.linuxserver.io/logo.png"></a>
</section>

<section>
    <h2>Why favor container virtualization?</h2>
    <ul>
        <li>Code is much easier to write.
		<ul><li>Many people can write a program to play music for a single client – this same insight applies to other programs, too!.</li></ul>
        <li>Very easy for the cloud itself to manage: containers are cheap to launch and also to halt, when your customer disconnects
		<ul><li>Containers winning for the reason objects won - easier for management.</ul>
		<li>The approach also matches well with modern NUMA computer hardware
    </ul>
	<img src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*uDaltt1iy6tKjXKM3npQkw.png">
	<p>My first successful cloud servers were all containerized.
</section>


<section>
    <h2>This leads to aN insight!</h2>
    <ul>
        <li>Approaches that match programming to hardware win out. 
		<ul><li>But what does "win" mean?</li></ul>
        <li>In 2006, when the cloud emerged, we didn’t know the best approach
		<li>Over time, everything had to evolve and be optimized for cloud uses
		<ul><li>Languages
		<li>Coders
		<li>Hardware
		<li>Applications
    </ul>
    </ul>
	<img src="https://dezyre.gumlet.io/images/blog/learn-scala-for-data-engineering/Scala_for_Data_Engineering_Tutorial_Factorial.png">
	<p>Spark, our current leader, is built on Scala, a language from 2004. (R is '93, Python '91, JavaScript '95)
</section>

<section>
    <h2>The cloud is evolving towards Platforms</h2>
    <ul>
        <li>You’ve seen all the XaaS acronyms.   
        <li>Some, like IaaS, basically are “rent a machine, do what you like”.
		<ul><li>GCP Compute Engine, Azure VMs, AWS EC2</ul>
		<li>PaaS, meaning “platform as a service” (but really it means “customizable and extensible platform”) is the most successful cloud model today.
		<ul><li>You never rent a GPU you don't use.
		<li>You don't have to remember to turn off servers.
		<li>Someone who gets paid to know things decides whether to use containers or how.
    </ul>
    </ul>
	<img width="30%" src="https://s7280.pcdn.co/wp-content/uploads/2020/11/key-9.png">
	<p>I've heard CaaS called "IaaS for people who like containers" which I think is probably 80% true.
</section>

<section>
    <h2>PAAS CONCEPT</h2>
    <ul>
        <li>The cloud favors PaaS.</li>
        <li>Basically, the vendor offers all the standard code, pre-built. They create the platform in ways that perform and scale really well.</li>
    </ul>
	<img src="https://www.salesforce.com/content/dam/web/en_us/www/images/app-cloud/platform-mylighting.png">
	<p>I hear "The Salesforce Platform is the world’s number one Platform as a Service (PaaS) solution" (from Salesforce mostly).
</section>

<section>
    <h2>Think. Pair. Share.</h2>
    <ul>
        <li>Can you think of a few other “uses” for a platform that would support video on demand, but really uses a lambda for the playback function?</li>
        <li>Which parts would the platform be handling? How fancy can a lambda really be?</li>
		<li>Use your expertise - what is the underlying relationship between the compute and data tasks?
		<li>What purposes can these serve.
    </ul>
</section>

<section>
    <h2>MORE TOPICS WE WILL TALK ABOUT</h2>
    <ul>
            <ul>
        <li>Programming and Web Technologies
                <li>It's fun I promise</li>
            </ul>
        </li>
        <li>Fault Tolerance and Consistency
            <ul>
                <li>Challenges of dealing with real-time data</li>
                <li>Time synchronization, temporal storage</li>
            </ul>
        </li>
		<li>For next time: Map & Lambda
    </ul>
</section>




</body>
</html>



    </div>
  </div>

  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/notes/notes.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/search/search.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/zoom/zoom.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/chart/Chart.min.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/chart/plugin.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/chalkboard/plugin.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/math/math.js"></script>
  <script src="https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/highlight/highlight.js"></script>

  <script>
      Reveal.initialize({
        progress: true,
        slideNumber: true,
        hash: true,
        keyboard: true,
        overview: true,
        center: false,
        touch: true,
        loop: false,
        rtl: false,
        navigationMode: 'default',
        shuffle: false,
        fragmentInURL: true,
        embedded: false,
        help: true,
        showNotes: false,
        preloadIframes: null,
        autoSlide: 0,
        autoSlideStoppable: true,
        autoSlideMethod: null,
        defaultTiming: null,
        hideInactiveCursor: true,
        hideCursorTime: 5000,
        previewLinks: false,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        transitionSpeed: 'default', // default/fast/slow
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
        viewDistance: 3,
        mobileViewDistance: 2,
        width: 1920,
        height: 1200,
        display: 'block',
		math: {
		  CommonHTML: {scale: 80},
		},
	reveald3: {
			runLastState: true, // true/false, default: true
			onSlideChangedDelay: 200,
			mapPath: false, // true / false / "spefific/path/as/string", default: false
			tryFallbackURL: true, // true/false, default false
			disableCheckFile: false, //default false
		 },

        // reveal.js plugins
        plugins: [
		  RevealMath,
          RevealHighlight,
          RevealNotes,
          RevealSearch,
          RevealZoom,
		  RevealChart,
		  RevealChalkboard,
        ],
		chalkboard: {
		boardmarkerWidth: 4,
        chalkWidth: 7,
		boardmarkers : [
                { color: 'rgba(248,248,242,1)', cursor: 'url(' + path + 'img/boardmarker-black.png), auto'},
                { color: 'rgba(102,217,239,1)', cursor: 'url(' + path + 'img/boardmarker-blue.png), auto'},
                { color: 'rgba(249,38,114,1)', cursor: 'url(' + path + 'img/boardmarker-red.png), auto'},
                { color: 'rgba(166,226,46,1)', cursor: 'url(' + path + 'img/boardmarker-green.png), auto'},
                { color: 'rgba(253,151,31,1)', cursor: 'url(' + path + 'img/boardmarker-orange.png), auto'},
                { color: 'rgba(174,129,255,1)', cursor: 'url(' + path + 'img/boardmarker-purple.png), auto'},
                { color: 'rgba(255,231,146,1)', cursor: 'url(' + path + 'img/boardmarker-yellow.png), auto'}
        ],
        chalks: [
                { color: 'rgba(248,248,242,0.5)', cursor: 'url(' + path + 'img/chalk-white.png), auto'},
                { color: 'rgba(102,217,239,0.5)', cursor: 'url(' + path + 'img/chalk-blue.png), auto'},
                { color: 'rgba(249,38,114,0.5)', cursor: 'url(' + path + 'img/chalk-red.png), auto'},
                { color: 'rgba(166,226,46,0.5)', cursor: 'url(' + path + 'img/chalk-green.png), auto'},
                { color: 'rgba(253,151,31,0.5)', cursor: 'url(' + path + 'img/chalk-orange.png), auto'},
                { color: 'rgba(174,129,255,0.5)', cursor: 'url(' + path + 'img/chalk-purple.png), auto'},
                { color: 'rgba(255,231,146,0.5)', cursor: 'url(' + path + 'img/chalk-yellow.png), auto'}
        ]
		},
		dependencies: [
			{ src: "https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/title-footer/title-footer.js", async: true, callback: function() { title_footer.initialize({css:"https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/title-footer/title-footer.css"}); } },
			{ src: "https://cd-public.github.io/slides/html_srcs/reveal.js/plugin/d3/reveald3.js" },
		],
      });
    </script>
    </body>
</html>
